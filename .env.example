# =============================================================================
# vtt-transcribe Docker Compose Environment Configuration
# =============================================================================
# Copy this file to .env and customize for your environment
# Never commit .env to version control!

# =============================================================================
# Database Configuration (REQUIRED)
# =============================================================================
POSTGRES_DB=vtt_transcribe
POSTGRES_USER=vtt_user
# REQUIRED: Set a secure password (will fail if not set)
POSTGRES_PASSWORD=
POSTGRES_PORT=5432
POSTGRES_HOST_AUTH_METHOD=scram-sha-256

# DATABASE_URL is auto-generated in docker-compose from the above values
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
# Example: postgresql://vtt_user:your_secure_password@db:5432/vtt_transcribe

# =============================================================================
# OpenAI API Configuration (REQUIRED)
# =============================================================================
# Get your API key from https://platform.openai.com/api-keys
# REQUIRED: Will fail if not set
OPENAI_API_KEY=

# =============================================================================
# HuggingFace Configuration (OPTIONAL - for diarization)
# =============================================================================
# Required only if using speaker diarization
# Get token from https://huggingface.co/settings/tokens
# Must accept pyannote/speaker-diarization model terms
HUGGINGFACE_TOKEN=

# =============================================================================
# API Server Configuration
# =============================================================================
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_RELOAD=false

# =============================================================================
# Security Configuration (REQUIRED)
# =============================================================================
# Generate a secure random key: python -c "import secrets; print(secrets.token_urlsafe(32))"
# REQUIRED: Will fail if not set
SECRET_KEY=
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# =============================================================================
# CORS Configuration
# =============================================================================
# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# =============================================================================
# Storage Configuration
# =============================================================================
UPLOAD_DIR=/app/uploads
# 100MB in bytes
MAX_UPLOAD_SIZE=104857600

# =============================================================================
# Worker Configuration
# =============================================================================
WORKER_CONCURRENCY=2
WORKER_MAX_TASKS_PER_CHILD=100

# =============================================================================
# Frontend Configuration (when enabled)
# =============================================================================
FRONTEND_PORT=3000
VITE_API_URL=http://localhost:8000
VITE_WS_URL=ws://localhost:8000

# =============================================================================
# Logging Configuration
# =============================================================================
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO
# Options: json or text
LOG_FORMAT=json
